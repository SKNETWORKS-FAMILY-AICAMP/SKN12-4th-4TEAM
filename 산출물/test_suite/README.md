# RAG ê¸°ë°˜ ì±—ë´‡ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸

ì´ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ëŠ” Ballzzi AI ì±—ë´‡ ì‹œìŠ¤í…œì˜ ëª¨ë“  ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¢…í•©ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.

## ğŸ“ í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°

```
test_suite/
â”œâ”€â”€ run_all_tests.py           # í†µí•© í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ
â”œâ”€â”€ test_question_routing.py   # ì§ˆë¬¸ ë¼ìš°íŒ… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ test_fm_module.py         # FM ëª¨ë“ˆ (ì¶•êµ¬ ì„ ìˆ˜ ì •ë³´) í…ŒìŠ¤íŠ¸  
â”œâ”€â”€ test_hr_rag.py           # HR ëª¨ë“ˆ RAG ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ test_django_api.py       # Django API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
â””â”€â”€ README.md               # ì´ íŒŒì¼
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ê¶Œì¥)
```bash
cd test_suite
python run_all_tests.py
```

### ê°œë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ì§ˆë¬¸ ë¼ìš°íŒ… í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
python test_question_routing.py

# FM ëª¨ë“ˆ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰  
python test_fm_module.py

# HR RAG í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
python test_hr_rag.py

# Django API í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
python test_django_api.py
```

## ğŸ“‹ í…ŒìŠ¤íŠ¸ í•­ëª©ë³„ ì„¤ëª…

### 1. ì§ˆë¬¸ ë¼ìš°íŒ… í…ŒìŠ¤íŠ¸ (`test_question_routing.py`)
- **ëª©ì **: Sentence-Transformer ê¸°ë°˜ ì§ˆë¬¸ ë¶„ë¥˜ ì •í™•ë„ ê²€ì¦
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 25ê°œ (FM: 10ê°œ, HR: 10ê°œ, ê²½ê³„ì‚¬ë¡€: 5ê°œ)
- **ê²€ì¦ í•­ëª©**:
  - FAISS ì¸ë±ìŠ¤ ê²€ìƒ‰ ì„±ëŠ¥
  - FM/HR ëª¨ë“ˆ ë¶„ê¸° ë¡œì§ ì •í™•ë„
  - ì‘ë‹µ ì‹œê°„ ì¸¡ì •

### 2. FM ëª¨ë“ˆ í…ŒìŠ¤íŠ¸ (`test_fm_module.py`)
- **ëª©ì **: ì¶•êµ¬ ì„ ìˆ˜ ì •ë³´ ì²˜ë¦¬ ì‹œìŠ¤í…œ ê²€ì¦
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 17ê°œ (ì„ ìˆ˜ì •ë³´, ì˜ˆì‚°ê²€ìƒ‰, í¬ì§€ì…˜ê²€ìƒ‰, ë¹„êµë¶„ì„ ë“±)
- **ê²€ì¦ í•­ëª©**:
  - LangChain SQL ì¿¼ë¦¬ ìƒì„± ì •í™•ë„
  - SQLite DB ì—°ë™ ì•ˆì •ì„±
  - JSON ì‘ë‹µ íŒŒì‹± ì„±ê³µë¥ 
  - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìƒíƒœ

### 3. HR RAG í…ŒìŠ¤íŠ¸ (`test_hr_rag.py`)
- **ëª©ì **: RAG ì‹œìŠ¤í…œ (ë²¡í„°ê²€ìƒ‰ + ë¦¬ë­ì»¤) ì„±ëŠ¥ ê²€ì¦
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 18ê°œ (HRì •ì±…, íšŒì‚¬ì •ë³´, ì™¸ë¶€ì§€ì‹ ë“±)
- **ê²€ì¦ í•­ëª©**:
  - FAISS ë²¡í„° ê²€ìƒ‰ ì •í™•ë„
  - BGE ë¦¬ë­ì»¤ ì¬ì •ë ¬ í’ˆì§ˆ
  - í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (ë‚´ë¶€/ì™¸ë¶€) ì„±ëŠ¥
  - GPT-4o-mini ì‘ë‹µ í’ˆì§ˆ í‰ê°€

### 4. Django API í…ŒìŠ¤íŠ¸ (`test_django_api.py`)
- **ëª©ì **: Django ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸ ê²€ì¦
- **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**: 10ê°œ (GET/POST ìš”ì²­, CSRF ë³´í˜¸, ì—ëŸ¬ì²˜ë¦¬)
- **ê²€ì¦ í•­ëª©**:
  - ì±—ë´‡ í˜ì´ì§€ ë Œë”ë§
  - POST API ì‘ë‹µ í˜•ì‹
  - CSRF í† í° ë³´ì•ˆ
  - ì¸ì¦ ì‹œìŠ¤í…œ ì‘ë™

## ğŸ“Š ê²°ê³¼ í•´ì„

### ì„±ê³µë¥  ê¸°ì¤€
- **95% ì´ìƒ**: ğŸ‰ ìš°ìˆ˜í•¨ - í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ
- **90% ì´ìƒ**: ğŸ‘ ì–‘í˜¸í•¨ - ì¼ë¶€ ê°œì„  í›„ ë°°í¬ ê°€ëŠ¥  
- **80% ì´ìƒ**: âš ï¸ ì£¼ì˜ - ì¶”ê°€ íŠœë‹ í•„ìš”
- **80% ë¯¸ë§Œ**: ğŸš¨ ì‹¬ê° - ì‹œìŠ¤í…œ ì ê²€ í•„ìš”

### ì‘ë‹µ ì‹œê°„ ê¸°ì¤€
- **2ì´ˆ ë¯¸ë§Œ**: âš¡ ìš°ìˆ˜
- **5ì´ˆ ë¯¸ë§Œ**: ğŸ‘ ì–‘í˜¸
- **5ì´ˆ ì´ìƒ**: âš ï¸ ê°œì„  í•„ìš”

## ğŸ“ ì¶œë ¥ íŒŒì¼

í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìƒì„±ë©ë‹ˆë‹¤:

- `question_routing_test_results.json` - ì§ˆë¬¸ ë¼ìš°íŒ… ìƒì„¸ ê²°ê³¼
- `fm_module_test_results.json` - FM ëª¨ë“ˆ ìƒì„¸ ê²°ê³¼
- `hr_rag_test_results.json` - HR RAG ìƒì„¸ ê²°ê³¼
- `django_api_test_results.json` - Django API ìƒì„¸ ê²°ê³¼
- `integrated_test_results_YYYYMMDD_HHMMSS.json` - í†µí•© ê²°ê³¼
- `test_summary_YYYYMMDD_HHMMSS.txt` - ìš”ì•½ ë³´ê³ ì„œ

## âš™ï¸ í™˜ê²½ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ì¡°ê±´
```bash
# Django ì„œë²„ê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ (í…ŒìŠ¤íŠ¸ ì „ í™•ì¸)
python manage.py runserver

# í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export OPENAI_API_KEY="your-api-key"
export HUGGINGFACE_TOKEN="your-hf-token"  # ì„ íƒì‚¬í•­
```

### ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
```bash
# SQLite DB íŒŒì¼ ì¡´ì¬ í™•ì¸
ls myapp/source/FM/data/players_position.db

# FAISS ë²¡í„° DB í™•ì¸
ls myapp/source/HR/data/faiss_win/
ls myapp/source/HR/data/faiss_org_hr/
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜

1. **ModuleNotFoundError**: Django ê²½ë¡œ ì„¤ì • ë¬¸ì œ
   ```bash
   # í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
   cd SKN12-4th-4TEAM
   python test_suite/run_all_tests.py
   ```

2. **FAISS ë¡œë“œ ì‹¤íŒ¨**: ë²¡í„° DB íŒŒì¼ ëˆ„ë½
   ```bash
   # ë²¡í„° DB íŒŒì¼ í™•ì¸
   find . -name "*.faiss" -o -name "*.pkl"
   ```

3. **API ì—°ê²° ì˜¤ë¥˜**: Django ì„œë²„ ë¯¸ì‹¤í–‰
   ```bash
   # ë³„ë„ í„°ë¯¸ë„ì—ì„œ ì„œë²„ ì‹¤í–‰
   python manage.py runserver
   ```

4. **ì¸ì¦ ì˜¤ë¥˜**: í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„± ì‹¤íŒ¨
   ```bash
   # Django ì‰˜ì—ì„œ ìˆ˜ë™ ìƒì„±
   python manage.py shell
   >>> from django.contrib.auth.models import User
   >>> User.objects.create_user('testuser', 'test@example.com', 'testpass123')
   ```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™” íŒ

1. **ë²¡í„° ê²€ìƒ‰ ì†ë„ í–¥ìƒ**
   - FAISS ì¸ë±ìŠ¤ ì••ì¶•
   - GPU ê°€ì† í™œìš©

2. **ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•**
   - LLM ëª¨ë¸ ìºì‹±
   - ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ì‹±

3. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”**
   - ë°°ì¹˜ í¬ê¸° ì¡°ì •
   - ëª¨ë¸ ì–‘ìí™” ì ìš©

## ğŸ› ï¸ í…ŒìŠ¤íŠ¸ í™•ì¥

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€ ì‹œ:

1. `test_ìƒˆë¡œìš´ê¸°ëŠ¥.py` íŒŒì¼ ìƒì„±
2. `run_all_tests.py`ì˜ `test_modules` ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
3. ë™ì¼í•œ êµ¬ì¡°ë¡œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ êµ¬í˜„

```python
# ì˜ˆì‹œ êµ¬ì¡°
class NewFeatureTester:
    def __init__(self):
        self.test_cases = []
    
    def run_single_test(self, test_case):
        # í…ŒìŠ¤íŠ¸ ë¡œì§
        pass
    
    def run_all_tests(self):
        # ì „ì²´ ì‹¤í–‰ ë¡œì§
        pass

def main():
    tester = NewFeatureTester()
    return tester.run_all_tests()
```

## ğŸ“ ì§€ì›

í…ŒìŠ¤íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ë©´ ê°œë°œíŒ€ìœ¼ë¡œ ì—°ë½í•˜ì„¸ìš”.

---

**ì‘ì„±ì¼**: 2024ë…„ 12ì›” 19ì¼  
**ë²„ì „**: 1.0  
**ì‘ì„±ì**: QA íŒ€ 